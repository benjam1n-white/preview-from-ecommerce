{% extends "base.html" %}

{% block content %}
    <div class="login-container max-w-4xl w-full login-card">
        <div class="flex flex-col md:flex-row">
            <!-- Sección de ilustración -->
            <div class="login-illustration md:w-2/5">
                <div class="text-center">
                    <div class="bg-white/20 p-4 rounded-full inline-block mb-6">
                        <i class="fas fa-lock text-4xl"></i>
                    </div>
                    <h1 class="text-3xl font-bold mb-4">Bienvenido de nuevo</h1>
                    <p class="mb-8 max-w-xs">Inicia sesión para acceder a ofertas exclusivas y realizar un seguimiento de tus pedidos</p>
                    <div class="bg-white/20 p-4 rounded-xl max-w-xs">
                        <div class="flex items-center mb-3">
                            <div class="bg-green-500 text-white p-1 rounded-full mr-3">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <p>Acceso rápido y seguro</p>
                        </div>
                        <div class="flex items-center mb-3">
                            <div class="bg-green-500 text-white p-1 rounded-full mr-3">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <p>Protección de datos garantizada</p>
                        </div>
                        <div class="flex items-center">
                            <div class="bg-green-500 text-white p-1 rounded-full mr-3">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <p>Compras más rápidas</p>
                        </div>
                    </div>
                </div>
            </div>
            
         <!-- Formulario de inicio de sesión -->
    <div class="login-form md:w-3/5">
        <div class="text-center mb-8">
            <h2 class="text-3xl font-bold text-gray-800">Iniciar Sesión</h2>
            <p class="text-gray-600">Ingresa a tu cuenta ECOMMERCE</p>
        </div>
                
         <form id="loginForm" method="post" action="{% url 'login' %}" class="m-6">

            {% csrf_token %}
            <div class="floating-label">
                {{ form.username }}  <!-- Cambiado de form.email a form.username -->
                <div class="absolute right-3 top-3 text-gray-400">
                <i class="fas fa-user"></i>  <!-- Cambiado el icono -->
                </div>
            </div>

                    
            <div class="floating-label">
                 {{form.password}}
                 <div class="toggle-password" id="togglePassword">
                    <i class="fas fa-eye"></i>
                </div>
            </div>
                    
            <div class="flex justify-between items-center mb-6">
                <div class="form-control">
                    <label class="label cursor-pointer flex items-center">
                        <input type="checkbox" class="checkbox checkbox-primary checkbox-sm">
                        <span class="label-text ml-2 text-gray-700">Recordarme</span> 
                    </label>
                </div>
                <a href="#" class="text-primary hover:underline text-sm">¿Olvidaste tu contraseña?</a>
            </div>
            <input type="hidden" name="next" value="{{ request.GET.next }}">  
            <button type="submit" class="btn btn-primary w-full py-3 text-lg font-medium">
                Iniciar Sesión
            </button>
        </form>
                
                <div class="divider">O continúa con</div>
                
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <button class="btn bg-white border border-gray-300 social-btn">
                        <i class="fab fa-google text-red-500 mr-2"></i> Google
                    </button>
                    <button class="btn bg-white border border-gray-300 social-btn">
                        <i class="fab fa-facebook text-blue-600 mr-2"></i> Facebook
                    </button>
                </div>
                
                <div class="text-center">
                    <p class="text-gray-600">¿No tienes una cuenta? <a href="{% url "rqst" %}" class="text-primary font-medium hover:underline">Regístrate</a></p>
                </div>
            </div>
        </div>
    </div>
    
   <script>
    // Solo maneja el toggle de password
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');  
    
    if (togglePassword && passwordInput) {
        togglePassword.addEventListener('click', function() {
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            this.innerHTML = type === 'text' ? '<i class="fas fa-eye-slash"></i>' : '<i class="fas fa-eye"></i>';
        });
    }
    </script>



{% endblock  %}
